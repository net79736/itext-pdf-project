<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JSON 데이터 전송 폼</title>
</head>
<body>
<form id="jsonDataForm" action="/generatePdfFileUsingIText" method="post">
    <textarea name="json_data" style="display: none;"></textarea>
    <button type="submit">JSON 데이터 전송</button>
</form>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // let jsonData1 = "<!DOCTYPE HTML><html xmlns:th=\"http://www.thymeleaf.org\"><head><title>html을pdf로바꿔보기</title><meta content=\"text/html; charset=UTF-8\"http-equiv=\"Content-Type\"/><meta charset='UTF-8'/><meta content='Content-type: text/html; charset=UTF-8'name='http-equiv'/><meta content='IE=Edge,chrome=1'http-equiv='X-UA-Compatible'/><meta content='width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no'name='viewport'/><link href=\"/css/bootstrap.min.css\"media=\"screen\"rel=\"stylesheet\"/><style>body{color:#555;padding:0px}.main{margin:auto;padding:15px;border-radius:1px}.logo-image{width:40%;max-width:300px;float:right}.main h1{margin:100px 0 10px 15px;width:100%;font-size:35px}.info-box{margin-top:40px;padding-right:15px}.info{width:100%;margin-left:15px}.title{font-weight:lighter;color:#42A5F5;vertical-align:top;font-size:17px}.description{vertical-align:top;font-size:13px}</style></head><body><div class=\"container main\"><h1>귀여운펭수</h1><img class=\"logo-image\"src=\"/image/cutty_peng.png\"/><div class=\"info-box\"><div class=\"info\"><h2 class=\"title\">이름</h2><p class=\"description\"th:text=\"${name}\"/></div><div class=\"info\"><h2 class=\"title\">나이</h2><p class=\"description\"th:text=\"${age}\"/></div><div class=\"info\"><h2 class=\"title\">직업</h2><p class=\"description\"th:text=\"${job}\"/></div><div class=\"info\"><h2 class=\"title\">거주지</h2><p class=\"description\"th:text=\"${address}\"/></div></div></div></body></html>";
        // let jsonData = "<!DOCTYPE HTML><html><head><meta content=\"text/html; charset=UTF-8\"http-equiv=\"Content-Type\"/><meta charset='UTF-8'/><meta content='Content-type: text/html; charset=UTF-8'name='http-equiv'/><meta content='IE=Edge,chrome=1'http-equiv='X-UA-Compatible'/><meta content='width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no'name='viewport'/><style>body{width:100%;font-size:12px;font-weight:lighter;color:#000;line-height:180%;font-family:NanumBarunGothic,serif}</style></head><body><p>안녕하세요.<strong>Brady</strong>님의구매안내메일입니다.</p><h3>구매내역</h3><table><tr><td style=\"background: #efefef; padding: 10px;\">Kimchi</td><td>₩12,000원</td></tr><tr><td style=\"background: #efefef; padding: 10px;\">Cola</td><td>₩3,500원</td></tr><tr><td style=\"background: #efefef; padding: 10px;\">맥주</td><td>₩9,800원</td></tr></table><p>전체결제금액₩25,300원</p><p>구매일<span>2024-02-21 16:23:45</span></p><p>감사합니다.</p></body></html>";
        let jsonData = "<!DOCTYPE HTML><html><head><meta content=\"text/html; charset=UTF-8\"http-equiv=\"Content-Type\"/><meta charset='UTF-8'/><meta content='Content-type: text/html; charset=UTF-8'name='http-equiv'/><meta content='IE=Edge,chrome=1'http-equiv='X-UA-Compatible'/><meta content='width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no'name='viewport'/><style>" +
            "table, th, td {" +
            "border: 1px solid black;" +
            "}   ,"+
            "body{width:100%;font-size:12px;font-weight:lighter;color:#000;line-height:180%;font-family:NanumBarunGothic,serif}</style></head><body><p>안녕하세요.<strong>Brady</strong>님의구매안내메일입니다.</p><h3>구매내역</h3><table><tr><td style=\"background: #efefef; padding: 10px;\">Kimchi</td><td>₩12,000원</td></tr><tr><td style=\"background: #efefef; padding: 10px;\">Cola</td><td>₩3,500원</td></tr><tr><td style=\"background: #efefef; padding: 10px;\">맥주</td><td>₩9,800원</td></tr></table><p>전체결제금액₩25,300원</p><p>구매일<span>2024-02-21 16:23:45</span></p><p>감사합니다.</p></body></html>";

        // 테이블에 추가할 데이터
        let additionalData = [
            { name: "과자", price: "₩5,000원" },
            { name: "우유", price: "₩2,000원" },
            { name: "커피", price: "₩3,200원" }
        ];

        // 테이블에 데이터 추가
        additionalData.forEach(data => {
            jsonData += "<tr><td>" + data.name + "</td><td>" + data.price + "</td></tr>";
        });
        console.log(jsonData);
        let form = document.getElementById("jsonDataForm");
        let jsonDataInput = form.querySelector("textarea[name='json_data']");
        jsonDataInput.value = jsonData;
    });

</script>
</body>
</html>